

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Using the Scanner &mdash; Gini Vision SDK for iOS 1.1.7 documentation</title>
  

  
  

  
  <link href="http://fonts.googleapis.com/css?family=Source+Sans+Pro:400,600,400italic,600italic|Source+Code+Pro|Roboto+Slab:400,700" rel="stylesheet" type="text/css" />

  
  

    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:'../',
        VERSION:'1.1.7',
        COLLAPSE_INDEX:false,
        FILE_SUFFIX:'.html',
        HAS_SOURCE:  true
      };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>

    

  

  
  
    <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  
  
    <script type="text/javascript">
        jQuery(function () {
            SphinxRtdTheme.StickyNav.enable();
        });
    </script>
  

  
    <link rel="top" title="Gini Vision SDK for iOS 1.1.7 documentation" href="../index.html"/>
        <link rel="next" title="Configuring the Module" href="style-the-module.html"/>
        <link rel="prev" title="Getting started" href="getting-started.html"/> 

  <script src="https://cdnjs.cloudflare.com/ajax/libs/modernizr/2.6.2/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-nav-search">
        <a href="../index.html" id="gini-logo">gini API</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        
        
            <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="getting-started.html">Getting started</a><ul>
<li class="toctree-l2"><a class="reference internal" href="getting-started.html#integrate-the-library-and-frameworks">Integrate the library and frameworks</a></li>
<li class="toctree-l2"><a class="reference internal" href="getting-started.html#set-the-linker-settings">Set the linker settings</a></li>
<li class="toctree-l2"><a class="reference internal" href="getting-started.html#next-use-the-scanner-activity">Next: Use the Scanner Activity</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="current reference internal" href="">Using the Scanner</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#start-the-image-capture">Start the image capture</a></li>
<li class="toctree-l2"><a class="reference internal" href="#implement-and-use-the-ginivisiondelegate">Implement and use the <tt class="docutils literal"><span class="pre">GiniVisionDelegate</span></tt></a><ul>
<li class="toctree-l3"><a class="reference internal" href="#didscan-uiimage-documenttype-ginidocumenttype-uploaddelegate-id-giniuploaddelegate"><tt class="docutils literal"><span class="pre">didScan:(UIImage</span> <span class="pre">*)</span> <span class="pre">documentType:(GINIDocumentType)</span> <span class="pre">uploadDelegate:(id&lt;GINIUploadDelegate&gt;)</span></tt></a></li>
<li class="toctree-l3"><a class="reference internal" href="#void-didscanoriginal-uiimage"><tt class="docutils literal"><span class="pre">(void)didScanOriginal:(UIImage</span> <span class="pre">*)</span></tt></a></li>
<li class="toctree-l3"><a class="reference internal" href="#void-didfinishcapturing-bool"><tt class="docutils literal"><span class="pre">(void)didFinishCapturing:(BOOL)</span></tt></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#use-the-ginivisionuploaddelegate-to-upload-files-and-update-the-ui">Use the <tt class="docutils literal"><span class="pre">GINIVisionUploadDelegate</span></tt> to upload files and update the UI</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#void-didprogress-float-totalprogress"><tt class="docutils literal"><span class="pre">(void)didProgress:(float)totalProgress</span></tt></a></li>
<li class="toctree-l3"><a class="reference internal" href="#void-didendupload"><tt class="docutils literal"><span class="pre">(void)didEndUpload</span></tt></a></li>
<li class="toctree-l3"><a class="reference internal" href="#example">Example</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#next-customize-the-ui">Next: Customize the UI</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="style-the-module.html">Configuring the Module</a><ul>
<li class="toctree-l2"><a class="reference internal" href="style-the-module.html#screen-resources">Screen Resources</a><ul>
<li class="toctree-l3"><a class="reference internal" href="style-the-module.html#camera-screen">Camera Screen</a></li>
<li class="toctree-l3"><a class="reference internal" href="style-the-module.html#help-screen">Help Screen</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="style-the-module.html#use-the-giniconfiguration-to-customize-look-and-behaviour-of-the-module">Use the <tt class="docutils literal"><span class="pre">GiniConfiguration</span></tt> to customize look and behaviour of the module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="style-the-module.html#options">Options</a></li>
<li class="toctree-l3"><a class="reference internal" href="style-the-module.html#colors">Colors</a></li>
<li class="toctree-l3"><a class="reference internal" href="style-the-module.html#fonts">Fonts</a></li>
<li class="toctree-l3"><a class="reference internal" href="style-the-module.html#example">Example</a></li>
</ul>
</li>
</ul>
</li>
</ul>

        
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../index.html">Gini Vision SDK for iOS</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../index.html">Docs</a> &raquo;</li>
      
    <li>Using the Scanner</li>
      <li class="wy-breadcrumbs-aside">
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            
  <div class="section" id="using-the-scanner">
<span id="guide-using-the-scanner"></span><h1>Using the Scanner<a class="headerlink" href="#using-the-scanner" title="Permalink to this headline">¶</a></h1>
<div class="section" id="start-the-image-capture">
<h2>Start the image capture<a class="headerlink" href="#start-the-image-capture" title="Permalink to this headline">¶</a></h2>
<p>The image capturing is started with a single class method call on the <tt class="docutils literal"><span class="pre">GiniVision</span></tt> class. The
document capturing then displays its own UI and your application&#8217;s UI is dismissed during the
capturing process. The arguments to this method call are:</p>
<ul class="simple">
<li>The currently displayed view controller. Usually, this is the same view controller as the
view controller which started the image capturing.</li>
<li>An instance of an object that implements the <tt class="docutils literal"><span class="pre">GiniVisionDelegate</span></tt> protocol. This delegate is
called during several steps of the image capturing and gets the results of the image capturing.</li>
<li><em>(optional)</em> A <tt class="docutils literal"><span class="pre">GiniConfiguration</span></tt> object to <a class="reference internal" href="style-the-module.html#guide-style-the-module"><em>cutomize the look and behaviour</em></a> of the Gini Vision iOS library.</li>
</ul>
<p>The following example implements a callback for a touch event on a UIButton. In this callback, the
image capturing is started.</p>
<div class="highlight-obj-c"><div class="highlight"><pre><span class="cp">#import &lt;GiniVision/GiniVision.h&gt;</span>

<span class="k">@interface</span> <span class="nc">MyViewController</span> <span class="p">()</span> <span class="o">&lt;</span><span class="n">GiniVisionDelegate</span><span class="o">&gt;</span>
<span class="o">-</span> <span class="p">(</span><span class="kt">IBAction</span><span class="p">)</span> <span class="nl">scanDocument</span><span class="p">:(</span><span class="bp">UIButton</span> <span class="o">*</span><span class="p">)</span><span class="n">sender</span><span class="p">;</span>
<span class="k">@end</span>

<span class="k">@implementation</span> <span class="nc">MyViewController</span>

<span class="p">-</span> <span class="p">(</span><span class="kt">IBAction</span><span class="p">)</span> <span class="nf">scanDocument:</span><span class="p">(</span><span class="bp">UIButton</span> <span class="o">*</span><span class="p">)</span><span class="nv">sender</span> <span class="p">{</span>
    <span class="p">[</span><span class="n">GiniVision</span> <span class="nl">captureImageWithViewController</span><span class="p">:</span><span class="nb">self</span> <span class="nl">delegate</span><span class="p">:</span><span class="nb">self</span><span class="p">];</span>
<span class="p">}</span>

<span class="k">@end</span>
</pre></div>
</div>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">You really have to call this method with the view controller that is currently
displayed. If the given view controller isn&#8217;t displayed currently, the framework
throws an error and your application will crash.</p>
</div>
<p>To switch back to your application&#8217;s UI use the <tt class="docutils literal"><span class="pre">GINIVisionUploadDelegate</span></tt> as <a class="reference internal" href="#gini-vision-upload-delegate"><em>described below</em></a>.</p>
</div>
<div class="section" id="implement-and-use-the-ginivisiondelegate">
<h2>Implement and use the <tt class="docutils literal"><span class="pre">GiniVisionDelegate</span></tt><a class="headerlink" href="#implement-and-use-the-ginivisiondelegate" title="Permalink to this headline">¶</a></h2>
<p>As mentioned above, the image capturing comes with a built-in UI and your application does not need
to implement anything regarding the image capturing. However, you are usually interested in the
results of the image capturing. The results of the image capturing process are given to your app via
the <tt class="docutils literal"><span class="pre">GiniVisionDelegate</span></tt>. Therefore, you need to pass an object that implements this delegate to
the image capture call (see the method call in the example above).</p>
<div class="section" id="didscan-uiimage-documenttype-ginidocumenttype-uploaddelegate-id-giniuploaddelegate">
<h3><tt class="docutils literal"><span class="pre">didScan:(UIImage</span> <span class="pre">*)</span> <span class="pre">documentType:(GINIDocumentType)</span> <span class="pre">uploadDelegate:(id&lt;GINIUploadDelegate&gt;)</span></tt><a class="headerlink" href="#didscan-uiimage-documenttype-ginidocumenttype-uploaddelegate-id-giniuploaddelegate" title="Permalink to this headline">¶</a></h3>
<p>Will be called after a document has been captured with the document (cropped and enhanced) as
argument. The given documentType argument describes the type of the scanned document. The receiver
should upload the document and inform the given upload delegate so the UI is updated accordingly.
See below to find out how to use the upload delegate.</p>
<p>The first parameter is an UIImage instance containing the scanned document. The second argument is
an enum that informs you which document type the user scanned. This can either be</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">GINIDocumentTypeInvoice</span></tt>: An invoice, usually in the DIN A4 format.</li>
<li><tt class="docutils literal"><span class="pre">GINIDocumentTypeRemittance</span></tt>: A German remittance slip in the DIN A6 format</li>
<li><tt class="docutils literal"><span class="pre">GINIDocumentTypeIntegratedRemittance</span></tt>: A document in the A4 format which contains a remittance
slip.</li>
</ul>
</div>
<div class="section" id="void-didscanoriginal-uiimage">
<h3><tt class="docutils literal"><span class="pre">(void)didScanOriginal:(UIImage</span> <span class="pre">*)</span></tt><a class="headerlink" href="#void-didscanoriginal-uiimage" title="Permalink to this headline">¶</a></h3>
<p>Will be called after a document has been captured with the original (that means not enhanced and
not cropped) image as argument. Handy for debugging or analysis. It is not recommended to use this
feature in production.</p>
</div>
<div class="section" id="void-didfinishcapturing-bool">
<h3><tt class="docutils literal"><span class="pre">(void)didFinishCapturing:(BOOL)</span></tt><a class="headerlink" href="#void-didfinishcapturing-bool" title="Permalink to this headline">¶</a></h3>
<p>Called after the image capturing UI has been dismissed. The given argument success indicates
whether the user has captured a document or has canceled the document capturing.</p>
</div>
</div>
<div class="section" id="use-the-ginivisionuploaddelegate-to-upload-files-and-update-the-ui">
<span id="gini-vision-upload-delegate"></span><h2>Use the <tt class="docutils literal"><span class="pre">GINIVisionUploadDelegate</span></tt> to upload files and update the UI<a class="headerlink" href="#use-the-ginivisionuploaddelegate-to-upload-files-and-update-the-ui" title="Permalink to this headline">¶</a></h2>
<p>Your application is responsible to upload the captured document, for example with the help of the
<a class="reference external" href="http://developer.gini.net/gini-sdk-ios/">Gini SDK for iOS</a>. Nevertheless, the Gini Vision library
displays an optimized and user-tested UI during the upload. When your application gets informed
that a document is captured, it gets also an instance of the upload delegate. You can call several
methods on this delegate in order to update the UI to reflect the current update status.</p>
<div class="section" id="void-didprogress-float-totalprogress">
<h3><tt class="docutils literal"><span class="pre">(void)didProgress:(float)totalProgress</span></tt><a class="headerlink" href="#void-didprogress-float-totalprogress" title="Permalink to this headline">¶</a></h3>
<p>Call this method during the upload of the document to update the activity indicator of the upload
UI accordingly. The parameter represents the progress in the upload process of the document on a scale from 0 to 1.</p>
</div>
<div class="section" id="void-didendupload">
<h3><tt class="docutils literal"><span class="pre">(void)didEndUpload</span></tt><a class="headerlink" href="#void-didendupload" title="Permalink to this headline">¶</a></h3>
<p>Call this method after the upload of a document has been finished. It will make the photo
capturing UI disappear and return to the screen of your UI from which the image capturing was
started. After that, the <cite>didFinish:</cite> method of your application&#8217;s <cite>GiniVisionDelegate</cite> will be
called.</p>
</div>
<div class="section" id="example">
<h3>Example<a class="headerlink" href="#example" title="Permalink to this headline">¶</a></h3>
<p>The following example is based on the example above and shows how to use the <tt class="docutils literal"><span class="pre">GINIVisionUploadDelegate</span></tt> after a document has been captured and enhanced.</p>
<div class="highlight-obj-c"><div class="highlight"><pre><span class="k">@implementation</span> <span class="nc">MyViewController</span>

<span class="c1">// Start image capturing and set delegate as seen above</span>
<span class="p">-</span> <span class="p">(</span><span class="kt">IBAction</span><span class="p">)</span> <span class="nf">scanDocument:</span><span class="p">(</span><span class="bp">UIButton</span> <span class="o">*</span><span class="p">)</span><span class="nv">sender</span> <span class="p">{</span>
    <span class="p">[</span><span class="n">GiniVision</span> <span class="nl">captureImageWithViewController</span><span class="p">:</span><span class="nb">self</span> <span class="nl">delegate</span><span class="p">:</span><span class="nb">self</span><span class="p">];</span>
<span class="p">}</span>

<span class="c1">// MARK: GiniVisionDelegate method</span>
<span class="p">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">didScan:</span><span class="p">(</span><span class="bp">UIImage</span> <span class="o">*</span><span class="p">)</span><span class="nv">document</span> <span class="nf">documentType:</span><span class="p">(</span><span class="n">GINIDocumentType</span><span class="p">)</span><span class="nv">docType</span> <span class="nf">uploadDelegate:</span><span class="p">(</span><span class="kt">id</span><span class="o">&lt;</span><span class="n">GINIVisionUploadDelegate</span><span class="o">&gt;</span><span class="p">)</span><span class="nv">delegate</span> <span class="p">{</span>

    <span class="cm">/* Implement the Gini SDK for iOS or your custom upload to send the scanned and enhanced document to be processed. */</span>

    <span class="c1">// Inform the delegate about the progress of the uploading process, so the UI gets updated properly.</span>
    <span class="p">[</span><span class="n">delegate</span> <span class="nl">didProgress</span><span class="p">:</span><span class="mf">0.25</span><span class="p">];</span>
    <span class="c1">// Inform the delegate that the upload ended, the UI is then switched back to your application&#39;s UI.</span>
    <span class="p">[</span><span class="n">delegate</span> <span class="n">didEndUpload</span><span class="p">];</span>
<span class="p">}</span>

<span class="k">@end</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="next-customize-the-ui">
<h2>Next: Customize the UI<a class="headerlink" href="#next-customize-the-ui" title="Permalink to this headline">¶</a></h2>
<p>After you have successfully integrated the Gini Vision library for iOS with the Gini SDK you can
customize your UI according to your CI. Learn next <a class="reference internal" href="style-the-module.html#guide-style-the-module"><em>how to style the module</em></a>.</p>
</div>
</div>


          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="style-the-module.html" class="btn btn-neutral float-right" title="Configuring the Module">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="getting-started.html" class="btn btn-neutral" title="Getting started"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
    </p>
  </div>
</footer>
        </div>
      </div>

    </section>

  </div>
  

  
</body>
</html>